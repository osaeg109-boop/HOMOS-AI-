<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HOMOS AI</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Cairo:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#020617;
  --glass:rgba(255,255,255,.1);
  --neon:#22c55e;
  --blue:#38bdf8;
}
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:
    radial-gradient(circle at 20% 20%,rgba(34,197,94,.15),transparent 40%),
    radial-gradient(circle at 80% 30%,rgba(56,189,248,.15),transparent 40%),
    #020617;
  color:#fff;
}
header{
  backdrop-filter:blur(14px);
  background:rgba(2,6,23,.85);
  padding:15px 25px;
  display:flex;justify-content:space-between;align-items:center;
}
header h1{
  font-family:'Orbitron';
  color:var(--neon);
}
header button{
  background:linear-gradient(135deg,var(--neon),var(--blue));
  border:none;padding:10px 18px;border-radius:999px;
  cursor:pointer;font-weight:bold;
}
#chat{
  max-width:900px;
  margin:30px auto;
  padding:0 15px;
}
.msg{
  padding:15px;
  margin:12px 0;
  border-radius:16px;
  line-height:1.8;
}
.user{background:linear-gradient(135deg,#2563eb,#38bdf8)}
.bot{background:rgba(255,255,255,.12)}
input{
  width:100%;
  padding:15px;
  border-radius:15px;
  background:rgba(255,255,255,.1);
  border:1px solid rgba(255,255,255,.2);
  color:#fff;
}
.overlay{
  position:fixed;inset:0;
  background:rgba(2,6,23,.95);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.box{
  background:var(--glass);
  padding:30px;
  border-radius:20px;
  max-width:350px;
  text-align:center;
  border:1px solid rgba(255,255,255,.15);
}
.box input{
  margin-top:15px;
}
footer{
  text-align:center;
  padding:20px;
  opacity:.6;
}
a{color:var(--neon);text-decoration:none}
</style>
</head>

<body>

<header>
  <h1>HOMOS AI</h1>
  <button onclick="openSub()">Ø§Ø´ØªØ±Ùƒ</button>
</header>

<div id="chat"></div>
<input id="input" placeholder="Ø§Ø³Ø£Ù„ HOMOS AI..." />

<div id="subOverlay" class="overlay" style="display:none">
  <div class="box">
    <h3>ğŸš« Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©</h3>
    <p>Ø§Ø´ØªØ±Ùƒ Ø¹Ø´Ø§Ù† ØªÙƒÙ…Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… HOMOS AI</p>
    <input id="codeInput" placeholder="Ø§Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ">
    <button onclick="activate()">ØªÙØ¹ÙŠÙ„</button>
    <p><a href="https://wa.me/201012265953" target="_blank">Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a></p>
  </div>
</div>

<footer>
<a href="#" onclick="alert('Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©: Ù„Ø§ ÙŠØªÙ… Ø¬Ù…Ø¹ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª')">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> |
<a href="#" onclick="alert('Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ø¹Ø±ÙÙŠØ© ÙÙ‚Ø·')">Ø§Ù„Ø´Ø±ÙˆØ·</a>
</footer>

<script>
// ===== Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ =====
const VALID_CODES = [
  "HOMOS-A1X9",
  "HOMOS-B7K2",
  "HOMOS-Q3M8",
  "HOMOS-Z9L4",
  "HOMOS-R5T6"
];

// ===== Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ =====
function isPro(){
  const s=JSON.parse(localStorage.getItem("homos_sub"));
  return s && Date.now()<s;
}
function activate(){
  const code=document.getElementById("codeInput").value.trim();
  if(VALID_CODES.includes(code)){
    localStorage.setItem("homos_sub",Date.now()+30*86400000);
    alert("ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ âœ…");
    location.reload();
  }else{
    alert("ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ âŒ");
  }
}
function openSub(){
  document.getElementById("subOverlay").style.display="flex";
}

// ===== Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© =====
let usage=JSON.parse(localStorage.getItem("homos_usage"))||{c:0,d:new Date().toDateString()};
if(usage.d!==new Date().toDateString()){
  usage={c:0,d:new Date().toDateString()};
}
const LIMIT=20;

// ===== Ø´Ø®ØµÙŠØ© =====
function persona(q){
  if(q.includes("Ù…Ù† Ø§Ù†Øª")||q.includes("Ù…ÙŠÙ† Ø§Ù†Øª"))
    return "Ø£Ù†Ø§ HOMOS AIØŒ Ø°ÙƒØ§Ø¡ ÙˆÙŠØ¨ Ù…Ø³ØªÙ‚Ù„.";
  if(q.includes("Ù…ÙŠÙ† ØµÙ†Ø¹Ùƒ")||q.includes("Ù…Ù† ØµÙ†Ø¹Ùƒ"))
    return "ØªÙ… ØªØ·ÙˆÙŠØ±ÙŠ Ø¨ÙˆØ§Ø³Ø·Ø© Mohamed Homos.";
  return null;
}

// ===== Ø¨Ø­Ø« =====
async function search(q){
  const url="https://api.allorigins.win/raw?url="+encodeURIComponent(
    "https://api.duckduckgo.com/?q="+q+"&format=json&no_html=1"
  );
  return fetch(url).then(r=>r.json());
}

// ===== Ø§Ù„Ø´Ø§Øª =====
const chat=document.getElementById("chat");
const input=document.getElementById("input");

function add(t,c){
  const d=document.createElement("div");
  d.className="msg "+c;
  d.textContent=t;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

input.onkeydown=async e=>{
  if(e.key!=="Enter"||!input.value)return;

  if(!isPro() && usage.c>=LIMIT){
    openSub();
    return;
  }

  usage.c++;
  localStorage.setItem("homos_usage",JSON.stringify(usage));

  const q=input.value;
  input.value="";
  add(q,"user");

  const p=persona(q);
  if(p){ add(p,"bot"); return; }

  add("ğŸ” Ø¨Ø¯ÙˆÙ‘Ø± ÙÙŠ Ø§Ù„ÙˆÙŠØ¨...","bot");
  const r=await search(q);
  add(r.Abstract||"Ù…Ù„Ù‚ØªØ´ Ù…Ø¹Ù„ÙˆÙ…Ø© ÙˆØ§Ø¶Ø­Ø©.","bot");
};
</script>

</body>
</html>
